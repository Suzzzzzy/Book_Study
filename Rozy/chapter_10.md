# chapter 10 알림 시스템 설계

알림시스템: 모바일 푸시 알림, SMS 메세지, 이메일

## 1딘계
- 어떤 종류의 알림인지,
- 실시간 시스템 인지
- 어떤 종류의 단말기 지원하는지
- 서버 / 클라이언트 누가 만드는지
- 사용자가 알림을 설정할 수 있는지
- 하루에 몇 건의 알림을 보낼 수 있는지

질문을 통해 요구사항을 스스로 알아낸다

## 2단계: 개략적 설계안 제시 및 동의 구하기
### 동작 방법
 - 알림 제공자 -> APNS -> iOS 단말
 - 알림 제공자: 알림요청을 만들어 APNS에 보내는 주체
 - 요청에 필요한 데이터
   - 단말 토큰: 알림 요청을 보내는 데 필요한 고유 식별자
   - 페이로드: 알림 내용을 담은 JSON 

안드로이드는 푸시알림 서비스가 FCM(Firebase Cloud Messaging)

### 연락처 정보 수집 절차
- 모바일 단말 토큰, 전화 번호, 이메일 등의 정보를 데이터베이스에 저장해야 한다
- 1 : N  한 사람이 여러개의 단말기를 소유할 수 있기 때문에 Device 정보 테이블을 따로 둔다
- 알림은 모든 단말기에 전송되어야 하기 때문이다

### 알린 전송 및 수신 절차
- 알림 서비스의 서버가 한 개인 경우 위험
- SPOF: 그 서버에 장애가 생길 경우 전체 서비스의 장애로 이어짐ㄴ다
- 규모 확장성: 컴포넌트의 규모를 개별적으로 늘릴 방법이 없다
- 개략적 설계
<img width="339" alt="스크린샷 2023-08-25 오전 10 28 02" src="https://github.com/Suzzzzzy/Book_Study/assets/97580836/fb8f9674-1dce-40c1-91b8-5ba1df43768f">

  
