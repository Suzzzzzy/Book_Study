# chapter 1

### 로드밸런서
- 웹 서버들에게 트래픽 부하를 고르게 분산하는 역할
- 사용자는 로드밸런서의 공개 IP 주소로 접속
- 웹 서버는 클라이언트의 접속을 직접 처리하지 않음

@ 알게된 사실: 로드밸런서가 가운데서 처리한다는 사실은 알았지만, 로드밸런서의 공개 IP 주소로 사용자가 접속하고, 서버가 클라이언트의 접속을 직접 처리하지 않는 다는 것이 새로웠다.

-> 클라이언트에서 접속하는 end point 와는 개념이 어떻게 다른가?

### 데이터베이스 다중화
장점
- 쓰기연산(마스터 DB), 읽기연산(부 DB)로 나누게 되면 읽기연산은 부DB 서버로 분산되어 병렬 처리 가능
    - query수가 늘어남으로  성능이 좋아짐
    - query가 길어지는 것보단 병렬로 처리되는 query가 많은것이 효율적이다
- DB를 지역적으로 떨어진 장소에 다중화 시켜놓으면 보존됨(카카오 사건 생각남)

### 캐시(Cache)
- 자주 참조되는 데이터를 메모리에 넣어두는 곳(잠시 보관되는 곳)으로 훨씬 빠르다
- app의 성능은 데이터베이스를 얼마나 자주 호출하느냐에 크게 좌우됨
- 방식: 요청 받은 웹 서버는 캐시에 있는지 먼저 확인하고 있으면 반환 / 없으면 DB 조회
- 만료시간이 너무 짧으면 DB를 자주 조회하게 되고 / 너무 길면 원본 DB와 싱크가 안맞을 수 있다
- 데이터 방출: 캐시의 남은 메모리가 없을 경우 오래된 데이터부터 비운다

@ pelican 서비스에서 캐시를 사용하여 궁금했는데, 이해하게 되었다. 캐시에 조회하는 것이 DB 조회와 왜 다를까? 결국 조회하는 것이라 시간 효율성이 얼마나 뛰어나게 되는걸까? 라는 의문점이 생겼다

# chapter 3

### 효과적인 시스템 설계 면접 4단계 접근법

#### 1단계: 문제 이해 및 설계 범위 확정
- 생각 없이 답 내지 않기
- 깊게 생각하고 요구사항 완전히 이해, 가정 분명히 하기
- 올바른 질문 하기 -> 요구사항을 정확히 하기 위함, 가정을 분명하게 하기 위함 

#### 2단계: 개략적인 설계안 제시 및 동의 구하기
- 면접관들은 개입하기 좋아함 -> 청사진을 제시하고 의견을 구하기
- 의견을 물어보면서 만족정도를 알 수 있고, 놓친 것을 발견 가능

#### 3단계: 상세 설계
- 설계 대상 컴포넌트의 우선순위 정하기 -> 선택과 집중, 시간 관리 필요
- 의견을 물어보면서 만족정도를 알 수 있고, 놓친 것을 발견 가능

#### 4단계: 마무리
- 내가 한 설계 요약해주기 -> 기억 환기
- 추가 질문에 잘 답하기
- 시간이 남으면 세부적 개선사항 제안해보기

@ 느낀점: 지금 우리의 서비스가 어떤 구조로 되어있고 어디서 어떤 문제가 발생하게 될것인지 생각해본적이 아예 없어서 반성하게 되었다. 또한 면접 볼때 적어도 그 회사의 서비스 구조, 아키텍처를 공부해야 겠다.


# 논의 내용
- 캐시의 일관성은 어떻게 유지되는가?
- 어떤 시점부터 캐시를 도입하면 좋을까?
- 실제 설계를 해보지 않고 공부만으로 제안, 해결책 찾기를 할 수 있을까?