[ToC]

## 7장 - 분산 시스템을 위한 유일 ID 설계
### 1단계 - 문제 이해 및 설게 범위 확장

### 2단계 - 걔략적 설계안 제시 및 동의 구하기
- ID 만드는 여러 방법
  - 다중 마스터 복제
    - 젤 쉬운 auto_increment
    - 단점
      - 규모를 늘리기 어려움
      - 항상 커지도록 보장할 수 없음
      - 서버를 추가하거나 삭제할 때도 잘 작동할 수 없음
  - UUID
    - 이것도 간단
    - 장점
      - 단순하고 서버간 조율할 필요 없음
      - 규모 확장 쉬움
    - 단점
      - ID가 길다
      - 시간순으로 정렬 불가
      - 숫자가 아닐 수 있음
  - 티켓 서버
    - 설명이 생략되어 있다??
    - 장점
      - 유일성이 보장되고 오직 숫자로 만 되어 있음
      - 구현하기 쉽고, 중소 규모 적합
    - 단점
      - 티켓 서버가 SPOF가 됨 -> 티켓 서버를 여러개 둬서 해결할 수 있지만 데이터 동기화 해야함
  - 트위터 스노플레이크 접근법
    - 각개 격파 전략! 오랜만에 들어보네영 디바이드앤퀀커... 데이터구조론에서 배운것 같은데
    - 사인: 1비트
    - 타임스탬프: 제일 긴 41비트
    - 데이터센터 ID: 5비트
    - 서버 ID: 5비트
    - 일련번호: 12비트

### 3단계 - 상세설계
- 이해한거 3줄 요약
  - 데이터센터 ID, 서버 ID는 그거에 따라 고정이고
  - 타임스탬프는 시간, 41비트니까 약 69년에 한번 주기가 돌아오고
  - 그 타임스탬프 안에서 일련번호로 ID값을 지정
  - 69년마다 ID를 마이그레이션 해야함 -> 4줄되버렸네

## 함께 논의하고 싶은 주제
- 저는 처음 2가지 방법으로 간단하게 ID를 사용했었는데 다른분들은 어떠한 방법으로 ID를 생성해 보셨는지 궁금합니당
