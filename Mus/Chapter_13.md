[ToC]

## 함께 논의하고 싶은 주제
- 키워드 자동완성 기능은 지금까지 나온 챕터의 컴포넌트들의 기능보다 제 입장에서는 중요도가 떨어지는데, 중요도에 비해 복잡성이 크다고 느껴졌습니다. 예전에 검색기능을 구현하지 않고 엘라스틱서치 기능을 붙여서 사용했었는데, 비용은 크지 않았습니다. 굳이 키워드 자동완성을 구현할 필요가 있을까요?

## 13장

### 1단계 - 문제 이해 및 설계 범위 확정
- 요구사항
  - 빠른 응답 속도
  - 연관성
  - 정렬
  - 규모 확장성
  - 고가용성
- 개력적 규모 추정
  - 대박.,.. 매일 0.4G의 데이터 추가??

### 2단계 - 개략적 설계안 제시 및 동의 구하기
- 데이터 수집 서비스
  - 빈도 테이블
- 질의 서비스
  - query
  - frequency

### 3단계 - 상세 설계
- 트라이 자료구조
  - 트리 형태의 자료구조
  - 루트 노드는 빈 문자열
  - 각 노드는 글자를 저장, 26개의 자식노드를 가질 수 있음
    - 엇? 영어기준??? 한글은?? 자음, 모음, 받침....
  - 각 트리 노드는 하나의 단어, 또는 접두어 문자열
  - 빅오노테이션... 싫어...
- 데이터 수집 서비스
  - 실시간 데이터 수정하는 기존 설계안 단점
    - 느려질 수 있음
    - 트라이는 자주 변경되지 않음
  - 데이터 분석 서비스 로그
  - 로그 취합 서버
  - 취함된 데이터
  - 작업 서버
  - 트라이 캐시
  - 트라이 데이터베이스
    1. 문서 저장소
    2. 키-값 저장소
- 질의 서비스
  - AJAX 요청
  - 브라우저 캐싱
  - 데이터 샘플링
- 트라이 연선
  - 트라이 생성
  - 트라이 갱신
    1. 매주 한번 갱신
    2. 트라이의 각 노드를 개별적으로 갱신
  - 검색어 삭제
- 저장소 규모 확장

### 4단계 - 마무리
- 다국어 지원,...
- 국가별로 검색어 순위가 다름
- 도움 될만한 것
  - 샤딩
  - 순위 모델
추카포카 :tada::tada::tada: