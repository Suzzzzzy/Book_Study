## <4장> 처리율 제한 장치의 설계
- API에 처리율 제한장치
    - Dos 공격에 의한 자원고갈 방지
        - (예) 트위터는 3시간동안 300개의 트윗만 올릴 수 있게 제한이 있따.
- 클라이언트 측,서버 측 제한 장치로 나눌 수 있다.
- 처리율 제한 알고리즘
    - 토큰 버킷 알고리즘
    - 누출 버킷 알고리즘
    - 고정 윈도 카운터 알고리즘
    - 이동 윈도 로깅 알고리즘
    - 이동 윈도 카운터 알고리즘

## 논의 주제
- 역시나 이번장에서도 설계와 기획이 중요하다는 느낌을 받았습니다.
    저는 기획,설계가 프로젝트의 50%이상을 차지하고(중요도),하지만 할당해야할 시간은 30%정도라고 생각되어지네요
    모두들 본인이 생각하는 기획과 설계의 중요도와 프로젝트의 전반적인 기간 중 할당되어야 하는 시간이 어느정도인지 궁금합니다.

### 생각
- 설계 단계를 설명하는 중에 '현재' 사용하는 기술스택 점검이라는 말이 좀 놀랐습니다. 항상 내가 프로그램,시스템에 맞춰야 한다는 생각만 했지 현재 내가 어느상태인지 분석해야하는 부분은 잊고 있었던듯합니다.

## <5장> 안정 해시 설계
- N개의 캐시 서버가 있다 가정. 이 서버들에 부하를 균등하게 나눈다면?
    - serverIndex = hash(key) % N (N은 서버 개수)
    -> 대규모 캐시 미스 발생 가능성 有
- 안정해시 : 해시 테이블 크기가 조정될 때 평균적으로 오직 k/n개의 키만 재배치하는 해시 기술 (k는 키의 개수,n은 슬롯 개수)

## 논의 주제
- 마음이 급한 상태로 읽어서 그런지 조금 이해하는데 어려웠던 챕터였습니다. 아무래도 익숙하지 않은 주제인 것도 한 몫 했습니다. 이러한 알고리즘을 고려하는 파트는 어떤 파트일까요? 더 쉽게 말하자면 직무가 궁금합니다
단순하게 서버파트에서 한다. 이렇게 생각해야할지...
적으면서 든 생각은 흔히 구분하는 인프라팀과 서버팀의 차이가 뭘까라는 궁금증도 생기네요.

## <6장> 키-값 저장소 설계
- 키-값 저장소 : 키-값 데이터베이스라고도 불리는 비 관계형 데이터베이스
- 완벽한 설계란 없지만 읽기,쓰기,메모리 사용량 사이에 어떤 균형을 찾고, 데이터의 일관성과 가용성사이에서 타협적 결정을 내린 설계가 적합한 설계라고 말할 수 있을 듯
- 단일 서버 키-값 저장소
- 분산 키-값 저장소 ≒ 분산 해시 테이블
    - CAP 정리: 일관성(Consistency),가용성(Availability),파티션 감내(Partition Tolerance)
        - 위 요구사항 3가지를 동시에 만족하는 분산 시스템 설계는 불가능
    - 시스템 컴포넌트
        - 데이터 파티션
        - 데이터 다중화
        - 데이터 일관성
        - 시스템 아키텍처 다이어그램

## 논의 주제
- 데이터 센터 장애 처리와 같이 다중화를 하기 위해서는 물리적인 다중화(여러 지역에 여러 건물을 짓는다.) 외에 비물리적인 다중화 방식은 백업 밖에 없는가?
그렇다면 백업 기준에 대한 정책도 설계/확정 해야하나요? 그래야할 것 같다는 생각이 들었습니다. 

## <7장> 분산시스템을 위한 유일 ID 생성기 설계
- 1단계 : 문제 이해 및 설계 범위 확정
- 2단계 : 개략적 설계안 제시 및 동의 구하기
    - 다중 마스터 복제 : 데이터베이스의 auto_increment 기능 활용 (1만큼이 아닌 k,현재 사용 중인 데이터베이스 서버의 수만큼 ID 값을 증가)
    - UUID : 컴퓨터 시스템에 저장되는 정보를 유일하게 식별하기 위한 128비트짜리 수
    - 티켓 서버 : auto_increment 기능을 갖춘 데이터베이스 서버, 즉 티켓 서버를 중앙 집중형으로 하나만 사용하는 것
    - 트위터 스노플레이크 접근법 : 독창적인 ID 생성 기법
- 3단계 : 상세 설계 
- 4단계 : 마무리

## 논의 주제
- 독창적으로 ID 생성하는 방법은 다양하게 기업에서 활용할 수 있을듯합니다. 다른 기업들도 사용 중인지 찾아봐야겠어요ㅎ

